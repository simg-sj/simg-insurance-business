/*!
 * Start Bootstrap -  v1.0.0 ()
 * Copyright 2013-2021 
 * Licensed under ISC (https://github.com/BlackrockDigital/bike/blob/master/LICENSE)
 */

$(function(){var t="000000",n="https://connect-bike.simginsu.net/api/v1/flex/sms",r="https://connect-bike.simginsu.net/api/v1/flex/planagree",i="0AAC0420-113F-11EC-8F4E-A1358987ECC8";$("#certiCellConfirm").keyup(function(){var e=$("#certiCellConfirm").val();10<e.length&&$(this).val($(this).val().slice(0,11)),9<e.length?($("#sendNumberConfirm").attr("disabled",!1),$("#resendNumberConfirm").attr("disabled",!1)):($("#sendNumberConfirm").attr("disabled",!0),$("#resendNumberConfirm").attr("disabled",!0))});$(this).val();function a(e,r){return Math.floor(Math.random()*(r+1-e)+e)}$("#certiNumberConfirm").keyup(function(){var e=$("#certiNumberConfirm").val();6<e.length&&$("#certiNumberConfirm").val($(this).val().slice(0,6)),5<e.length?$("#certiNum_check").attr("disabled",!1):$("#certiNum_check").attr("disabled",!0)}),$("#certiNumberConfirm").on("propertychange change keyup paste input",function(){var e=$(this).val();6<e.length&&$("#certiNumberConfirm").val($(this).val().slice(0,6)),5<e.length?$("#certiNum_check").attr("disabled",!1):$("#certiNum_check").attr("disabled",!0)}),$("#sendNumberConfirm").click(function(){var e=a(1e5,999999);t=e;var r=$("#certiCellConfirm").val();$.ajax({url:n,type:"POST",beforeSend:function(e){e.setRequestHeader("X-API-SECRET","67E86360-DEFC-11EB-9003-8F90302A9C99"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:{cell:r,code:e},success:function(e){0<e.rCnt&&alert("인증번호 문자가 전송되었습니다.")},error:function(){alert("서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다. ")}}),$("#resendNumberConfirm").css("display","block"),$("#sendNumberConfirm").css("display","none"),$("#resendNumberConfirm").attr("disabled",!0),setTimeout(function(){$("#resendNumberConfirm").attr("disabled",!1)},5e3)}),$("#resendNumberConfirm").click(function(){$("#certiNumberConfirm").val("");var e=a(1e5,999999);t=e;var r=$("#certiCellConfirm").val();$.ajax({url:n,type:"POST",beforeSend:function(e){e.setRequestHeader("X-API-SECRET","67E86360-DEFC-11EB-9003-8F90302A9C99"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:{cell:r,code:e},success:function(e){0<e.rCnt&&alert("인증번호 문자가 재전송되었습니다. [ 1877-3006 ] \n 문자가 수신되지 않을경우 수신거부번호로 등록되어있거나, \n 지연되어 도착하는 경우가 있으니 참고바랍니다.")},error:function(){alert("서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다. ")}}),$("#sendNumberConfirm").css("display","none"),$("#resendNumberConfirm").attr("disabled",!0),setTimeout(function(){$("#resendNumberConfirm").attr("disabled",!1)},5e3)}),$("#certiNumberConfirm").keyup(function(){var e=$("#certiNumberConfirm").val();6<e.length&&$("#certiNumberConfirm").val($(this).val().slice(0,6)),5<e.length?$("#certiNumCheckConfirm").attr("disabled",!1):$("#certiNumCheckConfirm").attr("disabled",!0)}),$("#certiNumCheckConfirm").click(function(){var e;$("#certiNumberConfirm").val()==t?(e={gubun:"search",cell:$("#certiCellConfirm").val()},$.ajax({url:r,type:"POST",beforeSend:function(e){e.setRequestHeader("X-API-SECRET",i),e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:e,cache:!1,success:function(e){e[0]?function(e){console.log(e),$("html").animate({scrollTop:0},400),$(".result-section").css("display","block"),$(".text-section").css("display","none"),$(".search-section").css("display","none"),$("#nameTxt").empty().append(e.bdName);$("#damboTxt").empty().append("이륜차 시간제 보험"),$("#requestTxt").empty().append(e.created);var r="",t="/img/simg/accepted.png";switch(e.pState){case"READY":r="심사요청",t="/img/simg/error.png";break;case"UNDERWRITE":r="심사중",t="/img/simg/error.png";break;case"DELAY":r="서류요청중 [*서류요청 요인]<br>- 신청자의 정보와 보험개발원에서 조회한 정보가 불일치한 경우<br>- 이륜차량의 종합보험내역이 조회가 되지않는 경우",t="/img/simg/error.png";break;case"ACCEPTED":r="심사통과",t="/img/simg/accepted.png";break;case"REJECTED":r="심사거절 [*주요인수 기준]<br>1.연령 만 26~65세<br>2.사고다발 유형<br>3.음주 및 무면허<br>4.중대과실 경력<br>5.보험가입 경력 부족<br>6.신청한 자동차의 자가용 보험 부재<br>7.신청정보의 적합성 오류<br>8.가입불가 차량",t="/img/simg/rejected.png";break;case"ERROR":r="심사거절 <br>- 신청 이력정보중 부정확한 정보혹은 가입불가의 정보가 입력되었습니다. <br>- 세부내역은 문의부탁드립니다.",t="/img/simg/rejected.png"}"심사통과"==r&&(e.signYN||(r="심사통과 [ 내부절차 진행중 입니다. ]"));""==r&&(r="별도의 안내필요, 안내가 진행됩니다.");"READY"==e.pState&&"tain"==e.dSoyuja&&"Y"!=e.otherAgreeYN&&(r="신청자의 차량이 타인의 소유차량이므로 차주의 동의가 필요합니다.<br>[차주동의 절차] <br>1.신청시점에 차주에게 동의요청 문자혹은 알림톡이 발송되었습니다. <br>2.해당 문자혹은 알림톡에 있는 URL을 통해서 차주께서 동의이후에 가입절차가 진행됩니다.<br>3.차주께서 동의하시면 신청자에게 심사절차가 진행된다는 안내가 전송됩니다.");$("#pStateTxt").empty().append(r),$(".finish-logo").attr("src",t)}(e[0]):($(".text-section").css("display","none"),$(".search-section").css("display","none"),$(".no-result-section").css("display","block"),$("#certiCellConfirm").val(""),$("#certiNumberConfirm").val(""),$("#resendNumberConfirm").css("display","none"),$("#sendNumberConfirm").css("display","block"),$("#sendNumberConfirm").attr("disabled",!0))},error:function(){},complete:function(){setTimeout(function(){$this.prop("disabled",!1)},1e3)}})):alert("인증문자가 틀렸습니다. \n 재인증바랍니다.")})});