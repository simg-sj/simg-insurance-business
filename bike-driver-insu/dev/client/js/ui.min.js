/*!
 * Start Bootstrap -  v1.0.0 ()
 * Copyright 2013-2021 
 * Licensed under ISC (https://github.com/BlackrockDigital/bike/blob/master/LICENSE)
 */

$(function(){var r="https://connect-bike.simginsu.net/api/v1/flex/sms",c="img/simg/unchecked.png",a="img/simg/checked.png",i="";function e(e,t){var r,t="#"+t;e==c?($(t).attr("src",a),r=0,$(".check-area-simg").find("img").each(function(){-1!=$(this).attr("src").indexOf("mg/checked")&&r++,5==r&&s(c)})):($(t).attr("src",c),$("#sendNumber").attr("disabled",!0),$("#resendNumber").attr("disabled",!0),r=0,$(".check-area-simg").find("img").each(function(){-1!=$(this).attr("src").indexOf("mg/unchecked")&&r++,0<r&&$("#allChk").attr("src",c)}))}function s(e){var t=e,e=$("#certiCell").val();t==c?($("#allChk").attr("src",a),$("#firstChk").attr("src",a),$("#secondChk").attr("src",a),$("#thirdChk").attr("src",a),$("#forthChk").attr("src",a),$("#fifthChk").attr("src",a),console.log(e),e&&($("#sendNumber").attr("disabled",!1),$("#resendNumber").attr("disabled",!1))):($("#allChk").attr("src",c),$("#firstChk").attr("src",c),$("#secondChk").attr("src",c),$("#thirdChk").attr("src",c),$("#forthChk").attr("src",c),$("#fifthChk").attr("src",c),$("#sendNumber").attr("disabled",!0),$("#resendNumber").attr("disabled",!0))}function n(e,t){return Math.floor(Math.random()*(t+1-e)+e)}$("#firstChk").click(function(){e($("#firstChk").attr("src"),"firstChk")}),$("#secondChk").click(function(){e($("#secondChk").attr("src"),"secondChk")}),$("#thirdChk").click(function(){e($("#thirdChk").attr("src"),"thirdChk")}),$("#forthChk").click(function(){e($("#forthChk").attr("src"),"forthChk")}),$("#fifthChk").click(function(){e($("#fifthChk").attr("src"),"fifthChk")}),$("#allChk").click(function(){s($("#allChk").attr("src"))}),$("#certiCell").keyup(function(){var e=$("#certiCell").val(),t=0;$(".check-area-simg").find("img").each(function(){-1!=$(this).attr("src").indexOf("mg/checked")&&t++}),10<e.length&&$(this).val($(this).val().slice(0,11)),9<e.length&&6==t?($("#sendNumber").attr("disabled",!1),$("#resendNumber").attr("disabled",!1)):($("#sendNumber").attr("disabled",!0),$("#resendNumber").attr("disabled",!0))}),$("#sendNumber").click(function(){var e=n(1e5,999999);i=e;var t=$("#certiCell").val();$.ajax({url:r,type:"POST",beforeSend:function(e){e.setRequestHeader("X-API-SECRET","67E86360-DEFC-11EB-9003-8F90302A9C99"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:{cell:t,code:e},success:function(e){0<e.rCnt&&alert("인증번호 문자가 전송되었습니다.")},error:function(){alert("서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다. ")}}),$("#resendNumber").css("display","block"),$("#sendNumber").css("display","none"),$("#resendNumber").attr("disabled",!0),$("#certiCell").attr("disabled",!0),setTimeout(function(){$("#resendNumber").attr("disabled",!1)},7e3)}),$("#resendNumber").click(function(){$("#certiNumber").val("");var e=n(1e5,999999);i=e;var t=$("#certiCell").val();$.ajax({url:r,type:"POST",beforeSend:function(e){e.setRequestHeader("X-API-SECRET","67E86360-DEFC-11EB-9003-8F90302A9C99"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:{cell:t,code:e},success:function(e){0<e.rCnt&&alert("인증번호 문자가 재전송되었습니다. [ 1877-3006 ] \n 문자가 수신되지 않을경우 수신거부번호로 등록되어있거나, \n 지연되어 도착하는 경우가 있으니 참고바랍니다.")},error:function(){alert("서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다. ")}}),$("#sendNumber").css("display","none"),$("#resendNumber").attr("disabled",!0),setTimeout(function(){$("#resendNumber").attr("disabled",!1)},5e3)}),$("#certiNumber").keyup(function(){var e=$("#certiNumber").val();6<e.length&&$("#certiNumber").val($(this).val().slice(0,6)),5<e.length?$("#certiNum_check").attr("disabled",!1):$("#certiNum_check").attr("disabled",!0)}),$("#certiNumber").on("propertychange change keyup paste input",function(){var e=$(this).val();6<e.length&&$("#certiNumber").val($(this).val().slice(0,6)),5<e.length?$("#certiNum_check").attr("disabled",!1):$("#certiNum_check").attr("disabled",!0)}),$("#certiNum_check").click(function(){$("#certiNumber").val()==i?function(){alert("보험가입 설계를 위하여 \n 양식을 작성해주세요."),$(".user-form").css("display","block"),$(".formInformation").css("display","block"),$(".agree-view").css("display","none");var e=$("#certiCell").val();$("#simg-cell1").val(e.substring(0,3)),$("#simg-cell2").val(e.substring(3,7)),$("#simg-cell3").val(e.substring(7,11)),$("#simg-cell1").attr("disabled",!0),$("#simg-cell2").attr("disabled",!0),$("#simg-cell3").attr("disabled",!0),$("html").animate({scrollTop:0},400),$("#certiNumber").val(""),$("#certiCell").val(""),s($("#allChk").attr("src"))}():alert("인증문자가 틀렸습니다. \n 재인증바랍니다.")}),$(".simgTool").tooltip()});