/*!
 * Start Bootstrap -  v1.0.0 ()
 * Copyright 2013-2021 
 * Licensed under ISC (https://github.com/BlackrockDigital/bike/blob/master/LICENSE)
 */

function initform(){$("#simg-name").val(null),$("#simg-cell1").val(null),$("#simg-cell2").val(null),$("#simg-cell3").val(null),$("#simg-jumin1").val(null),$("#simg-jumin2").val(null),$("#simg-carNum").val(null);$("#certiCell").attr("disabled",!1),$("#simg-jachaMangi").val(null)}function juminValidation(t,e){for(var l=new Array,a=new Array,n=0;n<t.length;n++)l[n]=t.charAt(n);for(n=0;n<e.length;n++)a[n]=e.charAt(n);for(var i=0,n=0;n<t.length;n++)i+=l[n]*(2+n);for(n=0;n<e.length-1;n++)i+=2<=n?a[n]*n:a[n]*(8+n);return(11-i%11)%10!=a[6]?(alert("올바른 주민번호가 아닙니다. [주민번호 유효성 오류]"),!1):(alert("올바른 주민등록번호 입니다."),!0)}function ssnCheck(t,e){var t=t,e=e,l=t+""+e,a=[],n=[2,3,4,5,6,7,8,9,2,3,4,5],i=0;if(""==t)return alert("주민등록번호를 기입해주세요."),!1;if(""==e)return alert("주민등록번호를 기입해주세요."),!1;if(t.match("[^0-9]"))return alert("주민등록번호는 숫자만 입력하셔야 합니다."),!1;if(e.match("[^0-9]"))return alert("주민등록번호는 숫자만 입력하셔야 합니다."),!1;if(13!=l.length)return alert("올바른 주민등록 번호를 입력하여 주세요."),!1;for(var r=0;r<13;r++)a[r]=l.substring(r,r+1);for(r=0;r<12;r++)i+=a[r]*n[r];return(i=(11-i%11)%10)!=a[12]?(alert("올바른 주민등록 번호를 입력하여 주세요."),!1):(alert("올바른 주민번호입니다."),!0)}function validRegistrationNumber(t,e){if(13!==(t=t.split("-").join("")).length)return!1;for(var l=0,a=0;a<12;a++)l+=(t.substr(a,1)>>0)*(a%8+2);var n=l%11,i=(11-n)%10==t.substr(12,1),n=(13-n)%10==t.substr(12,1);return"rrn"===e?i:"frn"!==e&&i||n}$(function(){$("#simg-jumin1").keyup(function(){6<$("#simg-jumin1").val().length&&$(this).val($(this).val().slice(0,6))}),$("#simg-jumin2").keyup(function(){7<$("#simg-jumin2").val().length&&$(this).val($(this).val().slice(0,7))}),$("#contactForm input,#contactForm textarea").jqBootstrapValidation({preventSubmit:!0,submitError:function(t,e,l){},submitSuccess:function(t,e){e.preventDefault();var l=$("#simg-name").val(),a=$("#simg-cell1").val(),n=$("#simg-cell2").val(),i=$("#simg-cell3").val(),r=$("#simg-jumin1").val(),s=$("#simg-jumin2").val(),o=$("#simg-carNum").val(),m=$(":input:radio[name=simg-carType]:checked").val(),e=$("#simg-jachaMangi").val(),m={gubun:"planagree",name:l,cell1:a,cell2:n,cell3:i,jumin1:r,jumin2:s,carType:m,carNum:o,dambo:"",jachaMangi:e,soyuja:"bonin",relation:"101",soyujaName:"",soyujaCell1:"",soyujaCell2:"",soyujaCell3:"",soyujaJumin1:"",soyujaJumin2:""};if(""!=l&&null!=l&&null!=l)if(l=l.toUpperCase(),""!=a&&null!=a&&null!=a)if(""!=n&&null!=n&&null!=n)if(""!=i&&null!=i&&null!=i)if(""!=r&&null!=r&&null!=r){if(r.length<6){u=$("#simg-jumin1").offset();return alert("주민번호 앞자리는 6자리입니다."),void $("html").animate({scrollTop:u.top-120},400)}if(""!=s&&null!=s&&null!=s){if(s.length<7){u=$("#simg-jumin2").offset();return alert("주민번호 뒷자리는 7자리입니다."),void $("html").animate({scrollTop:u.top-120},400)}if("0"!=r.charAt(0)&&"1"!=s.charAt(0)&&"2"!=s.charAt(0)&&"5"!=s.charAt(0)&&"6"!=s.charAt(0)){u=$("#simg-jumin2").offset();return $("#simg-jumin2").val(""),alert("주민번호 뒷자리의 첫째자리는 내국인( 1,2 ) 외국인 ( 5,6 ) 만 가능합니다."),void $("html").animate({scrollTop:u.top-120},400)}s=validRegistrationNumber(r+s);if(s)if(""!=o&&null!=o&&null!=o){o=o.slice(-4);if(/[^0-9]/g.test(o)){u=$("#simg-carNum").offset();return alert("차량번호 조합은 숫자 + 한글 + 4자리 숫자입니다."),void $("html").animate({scrollTop:u.top-120},400)}""!=e&&null!=e&&null!=e?($this=$("#sendMessageButton"),$this.prop("disabled",!0),$.ajax({url:"https://connect-bike-dev.simginsu.net/api/v1/flex/planagree",type:"POST",beforeSend:function(t){t.setRequestHeader("X-API-SECRET","0AAC0420-113F-11EC-8F4E-A1358987ECC8"),t.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:m,cache:!1,success:function(t){0<t[0].rCnt?($("#contactForm").trigger("reset"),alert("접수가 완료되었습니다."),$(".finish-back").css("display","block"),$(".user-form").css("display","none"),$(".formInformation").css("display","none"),$("html").animate({scrollTop:0},400)):(alert(t[0].msg),$(".agree-view").css("display","block"),$(".user-form").css("display","none"),$(".formInformation").css("display","none"),t="img/simg/unchecked.png",$("#allChk").attr("src",t),$("#firstChk").attr("src",t),$("#secondChk").attr("src",t),$("#thirdChk").attr("src",t),$("#forthChk").attr("src",t),$("#fifthChk").attr("src",t),$("#certiCell").val(""),$("#certiNumber").val(""),$("#certiCellConfirm").val(""),$("#certiNumberConfirm").val(""),$("#resendNumber").css("display","none"),$("#sendNumber").css("display","block"),$("#resendNumber").attr("disabled",!0)),initform()},error:function(){$("#success").html("<div class='alert alert-danger'>"),$("#success > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-danger").append($("<strong>").text("죄송합니다. "+firstName+"님, 서버가 응답중에 에러가 발생하였습니다. 잠시후에 다시 시도해주세요!")),$("#success > .alert-danger").append("</div>"),$("#contactForm").trigger("reset")},complete:function(){setTimeout(function(){$this.prop("disabled",!1)},1e3)}})):(u=$("#simg-jachaMangi").offset(),$("html").animate({scrollTop:u.top-120},400))}else{u=$("#simg-carNum").offset();$("html").animate({scrollTop:u.top-120},400)}else{alert("신청자의 주민번호가 유효하지 않습니다.");u=$("#simg-jumin2").offset();$("html").animate({scrollTop:u.top-120},400)}}else{var u=$("#simg-jumin1").offset();$("html").animate({scrollTop:u.top-120},400)}}else{var u=$("#simg-jumin1").offset();$("html").animate({scrollTop:u.top-120},400)}else{var u=$("#simg-cell1").offset();$("html").animate({scrollTop:u.top-120},400)}else{var u=$("#simg-cell1").offset();$("html").animate({scrollTop:u.top-120},400)}else{var u=$("#simg-cell1").offset();$("html").animate({scrollTop:u.top-120},400)}else{var u=$("input#simg-name").offset();$("html").animate({scrollTop:u.top-120},400)}},filter:function(){return $(this).is(":visible")}}),$('a[data-toggle="tab"]').click(function(t){t.preventDefault(),$(this).tab("show")})}),$("#name").focus(function(){$("#success").html("")});